<html>
  <head>
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript">
      /*
      post new bookmark to delicious
      see http://gist.github.com/7516
      */
      function saveBookmark(params, options) {
        var defaults = {
          type: "GET",
          dataType: "xml",
          url: "https://api.del.icio.us/v1/posts/add",
          data: params,
          error: function(request, status) {
            console.error("Error saving bookmark to delicious: " + status);
          },
          success: function(xml) {
            var result = $(xml).find("result");
            var code = result.attr("code");

            if (code == "done") {
              console.log("Bookmark saved to delicious!");
            } else {
              console.error("Error saving bookmark to delicious: " + code);
            }
          }
        };
        options = $.extend({}, defaults, options);
        $.ajax(options);
      }

      //trigger script on load
      saveBookmark({url: 'http://google.com', description: 'google'});
    </script>
  </head>
  <body>
  </body>
</html>
